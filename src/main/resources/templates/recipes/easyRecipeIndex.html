<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/style :: head"></head>
<body>
<div class="container">
  <nav th:insert="fragments/menu :: navbar"></nav>
  <div class="my-4">
    <div class="d-flex flex-row mt-2">
      <h2>Search for recipes!</h2>
    </div>
    <div class="d-flex flex-row mt-2">
      <form class="form-inline" action="/recipes" method="get">
        <input class="form-control mr-sm-2" name="search" placeholder="Search" th:value="${search}" type="text">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
    <div class="d-flex flex-row mt-2">
      <ul class="list-unstyled">
        <li th:each="recipe : ${recipes}">
          <a th:href="${'/recipes/' + recipe.id}" th:text="${recipe.title}"></a>
        </li>
      </ul>
    </div>
    <div class="d-flex flex-row mt-2">
      <form action="/recipes" method="post" class="form-inline" th:object="${recipeForm}">
        <input name="name" type="text" placeholder="Name" class="form-control mr-2" th:classappend="${#fields.hasErrors('title') ? 'is-invalid' : ''}" th:field="*{title}">
        <button type="submit" class="btn btn-primary">Create new recipe</button>
        <span class="text-danger" th:errors="*{title}" />
      </form>
    </div>
  </div>
</div>
</body>
</html>